<%- include('../../partials/head') %>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <div class="lg:grid lg:grid-cols-12 lg:gap-x-12">
        <aside class="py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3">
            <nav class="space-y-1">
                <a href="/dashboard" class="text-gray-900 hover:bg-gray-50 group rounded-md px-3 py-2 flex items-center text-sm font-medium">Overview</a>
                <a href="/dashboard/my-prompts" class="text-gray-900 hover:bg-gray-50 group rounded-md px-3 py-2 flex items-center text-sm font-medium">Private Library</a>
                <a href="/dashboard/settings" class="bg-gray-50 text-indigo-700 group rounded-md px-3 py-2 flex items-center text-sm font-medium border-l-4 border-indigo-600">Settings</a>
            </nav>
        </aside>

        <div class="space-y-6 lg:col-span-9">
            <form action="/dashboard/settings/profile" method="POST" class="bg-white shadow rounded-xl border border-gray-200 p-8 space-y-8">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">

                <div>
                    <h3 class="text-lg font-bold text-gray-900 border-b pb-4 mb-6">Public Profile</h3>
                    <div class="grid gap-6 sm:grid-cols-2">
                        <div class="col-span-1">
                            <label class="block text-xs font-black uppercase text-gray-400 mb-1 tracking-widest">Username</label>
                            <div class="flex rounded-md shadow-sm">
                                <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm">u/</span>
                                <input type="text" name="username" value="<%= currentUser.username %>" class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 sm:text-sm p-2 border">
                            </div>
                        </div>
                        <div class="col-span-2">
                            <label class="block text-xs font-black uppercase text-gray-400 mb-1 tracking-widest">Bio</label>
                            <textarea name="bio" rows="3" class="block w-full rounded-md border-gray-300 sm:text-sm p-2 border"><%= currentUser.bio %></textarea>
                        </div>
                        <div class="col-span-2">
                            <div class="flex items-start">
                                <div class="flex items-center h-5">
                                    <input type="checkbox" name="profile_public" value="true" <%= currentUser.profile_public ? 'checked' : '' %> class="h-4 w-4 text-indigo-600 border-gray-300 rounded">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label class="font-bold text-gray-900">Make Profile Public</label>
                                    <p class="text-gray-500">Allow others to see your favorites and bio at <%= config.APP_URL %>/u/<%= currentUser.username %></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end pt-6 border-t border-gray-100">
                    <button type="submit" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</div>

<%- include('../../partials/foot') %>
